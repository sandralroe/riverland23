!function(t){var e={};function a(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,a),o.l=!0,o.exports}a.m=t,a.c=e,a.d=function(t,e,r){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)a.d(r,o,function(e){return t[e]}.bind(null,o));return r},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="",a(a.s=42)}({1:function(t,e){t.exports=Mura},2:function(t,e,a){"use strict";var r,o=function(){return void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r},n=function(){var t={};return function(e){if(void 0===t[e]){var a=document.querySelector(e);if(window.HTMLIFrameElement&&a instanceof window.HTMLIFrameElement)try{a=a.contentDocument.head}catch(t){a=null}t[e]=a}return t[e]}}(),i=[];function s(t){for(var e=-1,a=0;a<i.length;a++)if(i[a].identifier===t){e=a;break}return e}function d(t,e){for(var a={},r=[],o=0;o<t.length;o++){var n=t[o],d=e.base?n[0]+e.base:n[0],c=a[d]||0,l="".concat(d," ").concat(c);a[d]=c+1;var u=s(l),h={css:n[1],media:n[2],sourceMap:n[3]};-1!==u?(i[u].references++,i[u].updater(h)):i.push({identifier:l,updater:m(h,e),references:1}),r.push(l)}return r}function c(t){var e=document.createElement("style"),r=t.attributes||{};if(void 0===r.nonce){var o=a.nc;o&&(r.nonce=o)}if(Object.keys(r).forEach((function(t){e.setAttribute(t,r[t])})),"function"==typeof t.insert)t.insert(e);else{var i=n(t.insert||"head");if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");i.appendChild(e)}return e}var l,u=(l=[],function(t,e){return l[t]=e,l.filter(Boolean).join("\n")});function h(t,e,a,r){var o=a?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(t.styleSheet)t.styleSheet.cssText=u(e,o);else{var n=document.createTextNode(o),i=t.childNodes;i[e]&&t.removeChild(i[e]),i.length?t.insertBefore(n,i[e]):t.appendChild(n)}}function f(t,e,a){var r=a.css,o=a.media,n=a.sourceMap;if(o?t.setAttribute("media",o):t.removeAttribute("media"),n&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(n))))," */")),t.styleSheet)t.styleSheet.cssText=r;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(r))}}var g=null,p=0;function m(t,e){var a,r,o;if(e.singleton){var n=p++;a=g||(g=c(e)),r=h.bind(null,a,n,!1),o=h.bind(null,a,n,!0)}else a=c(e),r=f.bind(null,a,e),o=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(a)};return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else o()}}t.exports=function(t,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=o());var a=d(t=t||[],e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var r=0;r<a.length;r++){var o=s(a[r]);i[o].references--}for(var n=d(t,e),c=0;c<a.length;c++){var l=s(a[c]);0===i[l].references&&(i[l].updater(),i.splice(l,1))}a=n}}}},3:function(t,e,a){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var a=function(t,e){var a=t[1]||"",r=t[3];if(!r)return a;if(e&&"function"==typeof btoa){var o=(i=r,s=btoa(unescape(encodeURIComponent(JSON.stringify(i)))),d="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(s),"/*# ".concat(d," */")),n=r.sources.map((function(t){return"/*# sourceURL=".concat(r.sourceRoot||"").concat(t," */")}));return[a].concat(n).concat([o]).join("\n")}var i,s,d;return[a].join("\n")}(e,t);return e[2]?"@media ".concat(e[2]," {").concat(a,"}"):a})).join("")},e.i=function(t,a,r){"string"==typeof t&&(t=[[null,t,""]]);var o={};if(r)for(var n=0;n<this.length;n++){var i=this[n][0];null!=i&&(o[i]=!0)}for(var s=0;s<t.length;s++){var d=[].concat(t[s]);r&&o[d[0]]||(a&&(d[2]?d[2]="".concat(a," and ").concat(d[2]):d[2]=a),e.push(d))}},e}},42:function(t,e,a){"use strict";a.r(e);var r=a(5),o=a(6);a(43),Object(r.polyfill)({dragImageTranslateOverride:o.scrollBehaviourDragImageTranslateOverride}),a(1),a(45)},43:function(t,e,a){var r=a(2),o=a(44);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var n={insert:"head",singleton:!1};r(o,n);t.exports=o.locals||{}},44:function(t,e,a){(e=a(3)(!1)).push([t.i,"\n.dnd-poly-drag-image {\n    opacity: .5 !important;\n}\n\n.dnd-poly-drag-image.dnd-poly-snapback {\n    transition-property: transform, -webkit-transform !important;\n    transition-duration: 250ms !important;\n    transition-timing-function: ease-out !important;\n}\n",""]),t.exports=e},45:function(t,e){function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var r=function(t,e,a){return Array.prototype.slice.call(t,e,a)},o=[];if("Variation"==Mura.type)var n='.mxp-editable.mura-region-local .mura-object[data-object="container"], .mxp-editable.mura-region-local div, .mxp-editable.mura-region-local[data-loose="true"] p, .mxp-editable.mura-region-local[data-loose="true"] h1, .mxp-editable.mura-region-local[data-loose="true"] h2, .mxp-editable.mura-region-local[data-loose="true"] h3, .mxp-editable.mura-region-local[data-loose="true"] h4, .mxp-editable.mura-region-local[data-loose="true"] img, .mxp-editable.mura-region-local[data-loose="true"] table, .mxp-editable.mura-region-local[data-loose="true"] article, .mxp-editable.mura-region-local[data-loose="true"] dl, .mxp-editable.mura-region-local[data-loose="true"] main, .mxp-editable.mura-region-local[data-loose="true"] aside, .mxp-editable.mura-region-local[data-loose="true"] footer, .mxp-editable.mura-region-local[data-loose="true"] nav, .mxp-editable.mura-region-local[data-loose="true"] header';else n='div.mura-object[data-object="container"][data-targetattr], .mura-region-local .mura-object[data-object="container"], .mura-region-local div, .mura-region-local[data-loose="true"] p, .mura-region-local[data-loose="true"] h1, .mura-region-local[data-loose="true"] h2, .mura-region-local[data-loose="true"] h3, .mura-region-local[data-loose="true"] h4, .mura-region-local[data-loose="true"] img, .mura-region-local[data-loose="true"] table, .mura-region-local[data-loose="true"] article, .mura-region-local[data-loose="true"] dl, .mura-region-local[data-loose="true"] main, .mura-region-local[data-loose="true"] aside, .mura-region-local[data-loose="true"] footer, .mura-region-local[data-loose="true"] nav, .mura-region-local[data-loose="true"] header';function i(t){return t._boundingClientRect||(t._boundingClientRect=t.getBoundingClientRect(),o.push(t)),t._boundingClientRect}function s(){var t;for(t=0;t<o.length;t++)o[t]&&(o[t]._boundingClientRect=null);o=[]}function d(t){t.stopPropagation?t.stopPropagation():window.event&&(window.event.cancelBubble=!0)}function c(t){s(),t.dataTransfer.setData("Text",""),t.dataTransfer.dropEffect="copy",dragEl=this,elDropHandled=!1,newMuraObject=!1,muraLooseDropTarget=null,MuraInlineEditor.sidebarAction("showobjects"),Mura(".mura-object-selected").removeClass("mura-object-selected"),Mura(".mura-region, .mura-region .mura-editable").addClass("mura-region-active"),Mura('.mura-region div[data-object="container"], .mura-region .mura-editable div[data-object="container"], div.mura-object[data-object="container"][data-targetattr]').addClass("mura-container-active"),Mura(this).addClass("mura-object-selected")}function l(){dragEl=null,elDropHandled=!1,newMuraObject=!1,Mura(".mura-object-selected").removeClass("mura-object-selected"),Mura(".mura-region, .mura-region .mura-editable").removeClass("mura-region-active"),Mura('.mura-region div[data-object="container"], .mura-region .mura-editable div[data-object="container"], div.mura-object[data-object="container"][data-targetattr]').removeClass("mura-container-active")}function u(t){t.preventDefault(),t.dataTransfer.dropEffect="copy",(dragEl&&dragEl!=this&&!dragEl.contains(this)||newMuraObject)&&(muraLooseDropTarget=this,f(t,this))}function h(t){t.length&&(t.removeClass("mura-drop-target").removeClass("mura-append").removeClass("mura-prepend").removeClass("mura-drop-target-left").removeClass("mura-drop-target-right").removeClass("mura-drop-target-top").removeClass("mura-drop-target-bottom"),t.attr("class")||t.removeAttr("class"))}function f(t,e){if((o=Mura(e)).is(".mura-object")||o.closest(".mura-object").length)var a=function(t,e){var a={direction:"append",class:"bottom"},r=i(e),o=r.top,n=r.bottom,s=(n-o)/2+o,d="append";e.className.indexOf("mura-prepend")&&(d="prepend"),n<=o+15?"append"==d?(a.direction="append",a.class="bottom"):(a.direction="prepend",a.class="top"):t.clientY<=s?(a.direction="prepend",a.class="top"):(a.direction="append",a.class="bottom");var c=r.x,l=c+r.width;return s=(l-c)/2+c,t.clientX<=s?t.clientX<=(s-c)/2+c&&(a.class="left",a.direction="prepend"):t.clientX>(l-s)/2+s&&(a.class="right",a.direction="append"),a}(t,e);else"prepend"==(a={direction:v(t,e),class:"bottom"}).direction&&(a.class="top");var r=m(t,e,a),o=Mura(e),n=Mura(".mura-drop-target");if(n.length)if(o.node!=n.node)h(n);else if(o.node==dragEl)return void h(n);function s(){o.addClass("mura-"+a.direction),o.addClass("mura-drop-target-"+a.class)}if(o.addClass("mura-drop-target"),"container"==o.data("object")&&r>15){if(!o.children(".mura-object-content").length)return;s()}else{if(r<15&&!("prepend"==a.direction&&o.node.previousSibling||"append"==a.direction&&o.node.nextSibling)){var d=o.parent().parent().closest('.mura-object[data-object="container"]');d.length&&m(t,d.node,a)<15&&(console.log("Drop is within fudge distance from border to parent container so use parent container [1]"),o=d)}s()}}function g(t){var e=Mura(t),a={direction:"append",class:"top"};return e.is(".mura-prepend")&&(a.direction="prepend"),e.is(".mura-drop-target-top")?a.class="top":e.is(".mura-drop-target-bottom")?a.class="bottom":e.is(".mura-drop-target-left")?a.class="left":e.is(".mura-drop-target-right")&&(a.class="right"),a}function p(t){h(Mura(this)),muraLooseDropTarget=null}function m(t,e,a){var r=i(e);return"top"==a.class?t.clientY-r.top:"right"==a.class?t.clientX-r.right:"left"==a.class?r.left-t.clientX:r.bottom-t.clientY}function v(t,e){var a=i(e),r=a.top,o=a.bottom,n=(o-r)/2+r,s="append";return e.className.indexOf("mura-prepend")&&(s="prepend"),o<=r+15?s:t.clientY<=n?"prepend":"append"}function b(t){void 0!==t.clientY&&(t.clientY<200&&t.clientY>1&&P(-1),t.clientY>Mura(window).height()-200&&P(1))}function y(t){var e=Mura(".mura-drop-target").node;if(e){if(dragEl||newMuraObject)if(dragEl&&dragEl!=this){var a=m(t,e,o=g(e));if("container"==e.getAttribute("data-object")&&a>10){var r=Mura(e).children(".mura-object-content");if(r.children("p").remove(),console.log("Drop is on container with distance from border greater than fudge: "+a,"Add inside container"),!r.length)return;r.node.childNodes.length?(console.log("Container has length "+o.direction),r[o.direction](dragEl)):(console.log("Container has NO length default append"),r.append(dragEl))}else{if(a<10&&!("prepend"==o.direction&&e.previousSibling||"append"==o.direction&&e.nextSibling))console.log("Drop is on module with distance from border less than fudge: "+a,"So check that module is not inside container"),(n=Mura(e).parent().parent().closest('.mura-object[data-object="container"]')).length&&m(t,n.node,o)<10&&(console.log("Drop is within fudge distance from border to parent container so use parent container [2]"),e=n.node);"append"==o.direction?(console.log("Droping "+o.direction),e.nextSibling?e.parentNode.insertBefore(dragEl,e.nextSibling):e.parentNode.appendChild(dragEl)):(console.log("Droping "+o.direction),e.parentNode.insertBefore(dragEl,e))}Mura("#adminSave").show(),Mura(e).closest(".mura-region-local").data("dirty",!0),elDropHandled=!0,d(t)}else if(dragEl==e){var o,n;a=m(t,e,o=g(e));if(console.log("Drop is on self"),a<10&&!("prepend"==o.direction&&e.previousSibling||"append"==o.direction&&e.nextSibling))console.log("Drop is less than fudge distance from border, so check if in container"),(n=Mura(e).parent().parent().closest('.mura-object[data-object="container"]')).length&&m(t,n.node,o)<10&&(console.log("Drop is on module in container so move to container"),e=n.node,"append"==o.direction?(console.log("Droping "+o.direction),e.nextSibling?e.parentNode.insertBefore(dragEl,e.nextSibling):e.parentNode.appendChild(dragEl)):(console.log("Droping "+o.direction),e.parentNode.insertBefore(dragEl,e)));elDropHandled=!0,d(t)}else I.call(e,t);s(),Mura.editHistory.record()}h(Mura(e)),muraLooseDropTarget=null,newMuraObject=!1}function j(t){var e=Mura(this);if(e.find(".mura-active-target").length||(Mura(".mura-active-target").removeClass("mura-active-target"),e.hasClass("mura-object-selected")||Mura(this).addClass("mura-active-target")),"container"==e.data("object"))e.addClass("mura-container-active");else{var a=e.closest('div[data-object="container"]');a.length&&a.addClass("mura-container-active")}}function M(t){var e=Mura(this);e.removeClass("mura-active-target");var a=!0;if(void 0!==Mura.currentObjectInstanceID&&Mura.currentObjectInstanceID)if("container"==e.data("object")&&Mura.currentObjectInstanceID==e.data("instanceid"))a=!1;else{var r=e.closest('div[data-object="container"]');if(r.length)r.find('div[data-instanceid="'+Mura.currentObjectInstanceID+'"]').length&&(a=!1)}a&&e.removeClass("mura-container-active")}function w(t){var e=Mura(t);if(e.data("pinned"))C(t);else{var a=e.parent().closest(".mura-object[data-object]");if(!a.length||a.length&&("container"==a.data("object")||"gatedasset"==a.data("object").toLowerCase())){if("container"==e.data("object"))var r=!0;else;e.show().off("dragover",u).off("drag",b).off("dragstart",c).off("drop",y).off("dragleave",p).off("dragend",l).on("drag",b).on("dragstart",c).on("dragend",l).on("dragover",u).on("dragleave",p).on("drop",y).attr("draggable",!0).hover(j,M,r)}}}function C(t){var e=Mura(t),a=e.parent().closest(".mura-object[data-object]");if(!a.length||a.length&&("container"==a.data("object")||"gatedasset"==a.data("object").toLowerCase())){if("container"==e.data("object")&&"gatedasset"==e.data("object").toLowerCase())var r=!0;else;a.length||"container"!=e.data("object")&&"gatedasset"!=e.data("object").toLowerCase()?e.show().hover(j,M,r):e.show().off("dragover",u).off("drop",y).off("dragleave",p).off("dragend",l).on("dragend",l).on("dragover",u).on("dragleave",p).hover(j,M,r)}}function D(t,e,a){if(t.closest('.mura-region, div.mura-object[data-object="container"][data-targetattr]').length){for(var r=t.parent().closest(".mura-object[data-object]");r.length&&"container"!=r.data("object");)t=r,r=r.parent().closest(".mura-object[data-object]");t.length&&f(e,t.node)}}function E(t){if(t.preventDefault(),t.dataTransfer.dropEffect="copy",!Mura(".mura-drop-target").length&&(dragEl&&dragEl!=this&&!dragEl.contains(this)||newMuraObject)){var e=Mura(this).closest(".mura-object[data-object]");e.length?D(e,t):f(t,this)}}function x(t){if(t.preventDefault(),dragEl&&dragEl!=this&&!dragEl.contains(this)||newMuraObject){var e=Mura(".mura-drop-target");muraLooseDropTarget=this,e.length&&h(e);var a=Mura(this).closest(".mura-object[data-object]");!a.length||dragEl&&dragEl==a.node?f(t,this):D(a,t,a.node)}}function O(t){h(Mura(this)),muraLooseDropTarget=null}function N(t){if(d(t),dragEl||newMuraObject){var e=Mura(".mura-drop-target").node;if(e){if(dragEl&&dragEl!=e){var a=g(e);if("container"==e.getAttribute("data-object")){var r=Mura(e).children(".mura-object-content");r.children("p").remove(),r.node.childNodes.length?r[a.direction](dragEl):r.append(dragEl)}else try{"append"==a.direction?e.nextSibling?e.parentNode.insertBefore(dragEl,e.nextSibling):e.parentNode.appendChild(dragEl):e.parentNode.insertBefore(dragEl,e)}catch(t){}var o=Mura(dragEl);Mura("#adminSave").show(),o.addClass("mura-async-object"),"text"==o.data("object")&&"client"==o.data("render")&&"false"==o.data("async")||o.data("async",!0);var n=Mura(e).closest(".mura-region-local");n.length&&n.data("dirty",!0),Mura(e).hasClass("mura-object")?w(e):S(this),elDropHandled=!0,d(t)}else dragEl==e&&(elDropHandled=!0,d(t));I.call(e,t),Mura.editHistory.record()}}h(Mura(".mura-drop-target")),muraLooseDropTarget=null,newMuraObject=!1,Mura(this).attr("class")||Mura(this).removeAttr("class")}function S(t){Mura(t).off("dragenter",E).off("dragover",x).off("drop",N).off("dragleave",O).on("dragenter",E).on("dragover",x).on("dragleave",O).on("drop",N)}function T(){Mura(".mura-objectclass").each((function(){var t=Mura(this);t.data("inited")||(t.attr("draggable",!0),t.on("dragstart",(function(e){dragEl=null,elDropHandled=!1,newMuraObject=!0,muraLooseDropTarget=null,Mura("#dragtype").html(t.data("object")),Mura(".mura-sidebar").addClass("mura-sidebar--dragging"),Mura(".mura-region, .mura-region .mura-editable").addClass("mura-region-active"),Mura('div.mura-object[data-object="container"][data-targetattr], div.mura-object[data-object="container"][data-targetattr] div.mura-object[data-object="container"], .mura-region div[data-object="container"], .mura-region .mura-editable div[data-object="container"]').addClass("mura-container-active"),e.dataTransfer.setData("text",JSON.stringify({object:t.data("object"),objectname:t.data("objectname"),objectid:t.data("objectid"),objecticonclass:t.data("objecticonclass"),params:t.data("params")}))})).on("dragend",(function(){if(Mura("#dragtype").html(""),dragEl=null,elDropHandled=!1,newMuraObject=!1,Mura(".mura-sidebar").removeClass("mura-sidebar--dragging"),Mura(".mura-region, .mura-region .mura-editable").removeClass("mura-region-active"),Mura('div.mura-object[data-object="container"][data-targetattr], div.mura-object[data-object="container"][data-targetattr] div.mura-object[data-object="container"], .mura-region div[data-object="container"], .mura-region .mura-editable div[data-object="container"]').removeClass("mura-container-active"),void 0!==Mura.currentObjectInstanceID&&Mura.currentObjectInstanceID){var t=Mura('div[data-instanceid="'+Mura.currentObjectInstanceID+'"]');if("container"==t.data("object")&&t.addClass("mura-container-active"),container=t.closest('div[data-object="container"]'),container.length)container.find('div[data-instanceid="'+Mura.currentObjectInstanceID+'"]').length&&container.addClass("mura-container-active")}})).on("drag",b),t.data("inited",!0))}))}function I(t){t.preventDefault(),t.stopPropagation&&t.stopPropagation();var e=t.dataTransfer.getData("text");if(""!=e)try{e=JSON.parse(e)}catch(t){e=""}if("object"==a(e)&&e.object){var r=document.createElement("DIV"),o=!1,n=Mura.createUUID();if(r.setAttribute("data-object",e.object),r.setAttribute("data-objectname",e.objectname),r.setAttribute("data-objecticonclass",e.objecticonclass),r.setAttribute("data-async",!0),r.setAttribute("data-perm","author"),r.setAttribute("data-instanceid",n),r.setAttribute("data-queue",Mura.queueObjects),r.setAttribute("class","mura-async-object mura-object mura-active"),"Variation"==Mura.type&&r.setAttribute("data-mxpeditable",!0),e.objectid?r.setAttribute("data-objectid",e.objectid):r.setAttribute("data-objectid",Mura.createUUID()),e.params&&e.params.objectid)for(var i in o=!0,e.params)"inited"!=i&&"instanceid"!=i&&("object"==a(e.params[i])?r.setAttribute("data-"+i,JSON.stringify(e.params[i])):r.setAttribute("data-"+i,e.params[i]));var s=Mura(this),c=g(this);if(console.log("dropTargeting",c),s.hasClass("mura-object")){var l=m(t,s.node,c);if("container"==s.data("object")&&l>10){var u=s.children(".mura-object-content");u.children("p").remove(),u.node.childNodes.length?u[c.direction](r):u.append(r)}else{if(l<10&&!("prepend"==c.direction&&s.node.previousSibling||"append"==c.direction&&s.node.nextSibling)){var h=s.parent().parent().closest('.mura-object[data-object="container"]');h.length&&m(t,h.node,c)<10&&(console.log("Drop is within fudge distance from border to parent container so use parent container [3]"),s=h)}"append"==c.direction?s.node.nextSibling?s.node.parentNode.insertBefore(r,s.node.nextSibling):s.node.parentNode.appendChild(r):s.node.parentNode.insertBefore(r,this)}}else s.hasClass("mura-region-local")?this.appendChild(r):"append"==c.direction?this.nextSibling?this.parentNode.insertBefore(r,this.nextSibling):this.parentNode.appendChild(r):this.parentNode.insertBefore(r,this);o&&(Mura.cloning=!0,"form"!=r.getAttribute("data-object")&&"component"!=r.getAttribute("data-object")&&r.setAttribute("data-objectid",Mura.createUUID())),Mura.processAsyncObject(r).then((function(){o&&(Mura.cloning=!1,Mura(r).find(".mura-object").calculateDisplayObjectStyles(!1)),w(r),r=Mura(r),openFrontEndToolsModal(r.node,!0),r.on("click",Mura.handleObjectClick);var e=r.closest(".mura-region-local");e.length&&e.data("dirty",!0),r.on("dragover",(function(){})),d(t),Mura.editHistory.record()}))}}function A(t){t.preventDefault(),t.dataTransfer.dropEffect="copy"}function L(t){var e,a,o;if(t.preventDefault(),!Mura(this).find(".mura-object[data-object]").length)return t.stopPropagation&&t.stopPropagation(),dragEl&&dragEl!==this?(e=this.parentNode,o=r(dragEl.parentNode.children).indexOf(dragEl),a=r(this.parentNode.children).indexOf(this),this.parentNode===dragEl.parentNode&&a>o?e.insertBefore(dragEl,this.nextSibling):this.appendChild(dragEl),Mura("#adminSave").show(),Mura(dragEl).data("async",!0),Mura(dragEl).addClass("mura-async-object"),Mura(this).data("dirty",!0),elDropHandled=!0,d(t)):dragEl==this&&(elDropHandled=!0,d(t)),I.call(this,t),muraLooseDropTarget=null,Mura(".mura-drop-target").removeClass("mura-drop-target").removeClass("mura-append").removeClass("mura-prepend"),s(),Mura.editHistory.record(),!0}function P(t){var e=Mura(window).scrollTop();window.scrollTo({top:e+t}),s()}window.addEventListener("scroll",(function(t){s()})),Mura.initLayoutManager=function(t,e){if(void 0===e&&(e=!1),t){var a=t.node?t:Mura(t);t=t.node||t}else{t=(a=Mura("body")).node,e&&Mura(".mura-objectclass").data("inited",!1),T(),Mura("body").removeClass("mura-sidebar-state__hidden--right").removeClass("mura-editing").addClass("mura-sidebar-state__pushed--right").addClass("mura-editing")}Mura.editing=!0,Mura(window).trigger("resize");var r=Mura("#frontEndToolsSidebariframe");if(r.attr("src",r.data("preloadsrc")),a.find(".mxp-editable").each((function(){var t=Mura(this);t.hasClass("mura-region-local")||(t.addClass("mura-region-local"),t.addClass("mura-region"),t.data("inited",!1),t.data("loose",!0),t.data("perm","editor"))})),"Variation"==Mura.type)var o=".mura-region-local.mxp-editable";else o=".mura-region-local";Mura("label.mura-editable-label").show(),a.find(o+'[data-inited="false"]').each((function(){var t=Mura(this);(!t.data("loose")||t.data("loose")&&"<p></p>"==t.html()||""==Mura.trim(t.html()))&&t.on("drop",L).on("dragover",A).data("inited","true")})),a.find(o+" .mura-object[data-object]").each((function(){w(this)})),a.find(n).each((function(){S(this)})),a.find('div.mura-object[data-object][data-targetattr], div.mura-object[data-pinned="true"]').each((function(){C(this)})),e||(console.log("init edit history"),Mura.editHistory.reset().record())},Mura.deInitLayoutManager=function(){Mura.editing=!1,Mura.editHistory.reset(),Mura("body").removeClass("mura-editing"),Mura("body").removeClass("mura-sidebar-state__pushed--right"),Mura('div.mura-object[data-object="container"][data-targetattr], .mura-region-local .mura-object[data-object]').each((function(){Mura(this).off("drag",b).off("dragenter",c).off("dragover",u).off("drop",y).off("dragleave",p).off("dragstart",c).off("dragend",l).off("mouseover",j).off("mouseout",M).off("touchstart",j).off("touchend",M).attr("draggable",!1).removeClass("mura-active").removeClass("mura-object-selected").removeClass("mura-object-select").removeClass("mura-active-target")})),Mura(".mura-region-local").off("drop",L).off("dragover",A).data("inited","false"),Mura('div.mura-object[data-object="container"][data-targetattr], .mura-region-local .mura-object[data-object="container"], .mura-region-local div, .mura-region-local[data-loose="true"] p, .mura-region-local[data-loose="true"] h1, .mura-region-local[data-loose="true"] h2, .mura-region-local[data-loose="true"] h3, .mura-region-local[data-loose="true"] h4, .mura-region-local[data-loose="true"] img, .mura-region-local[data-loose="true"] table, .mura-region-local[data-loose="true"] article, .mura-region-local[data-loose="true"] dl').off("dragenter",E).off("dragover",x).off("drop",N).off("dragleave",O),Mura(".mura-editable-attribute").each((function(){var t=Mura(this);if("undefined"!=typeof CKEDITOR&&CKEDITOR.instances[t.attr("id")]){var e=CKEDITOR.instances[t.attr("id")];e.updateElement(),e.destroy(!0)}t.attr("contenteditable","false"),t.removeClass("mura-active"),t.data("manualedit",!1),t.off("dblclick")}))},Mura.loadObjectClass=function(t,e,a,r,o,n){var i="muraAction=cArch.loadclass&compactDisplay=true&layoutmanager=true&siteid="+t+"&classid="+e+"&subclassid="+a+"&contentid="+r+"&parentid="+o+"&cacheid="+Math.random();if("plugins"==e)var s=Mura("#pluginList");else{s=Mura("#classList");Mura("#classListContainer").show()}return s.html(Mura.preloaderMarkup),Mura.ajax({url:Mura.adminpath+"?"+i,success:function(t){s.html(t),T()}}),!1},Mura.initLooseDropTarget=S,Mura.initDraggableObject=w,Mura.initPinnedObject=C,Mura.initDraggableObject_hoverin=j,Mura.initDraggableObject_hoverout=M,Mura.initClassObjects=T,Mura.looseDropTargets=n,Mura.editHistory=new function(){return this.history=[],this.undone=[],this.hasShallowEdits=!1,this.selector="body",this.hydrate=function(){Mura(".mura-object").calculateDisplayObjectStyles(),MuraInlineEditor.init(!0),MuraInlineEditor.sidebarAction("showobjects"),h(Mura(".mura-drop-target")),Mura(".mura-object-selected").removeClass("mura-object-selected"),Mura(".mura-region, .mura-region .mura-editable").removeClass("mura-region-active"),Mura('.mura-region div[data-object="container"], .mura-region .mura-editable div[data-object="container"], div.mura-object[data-object="container"][data-targetattr]').removeClass("mura-container-active")},this.undo=function(){return this.history.length>1&&(this.undone.push(document.querySelector(this.selector).cloneNode(!0)),this.hasShallowEdits||this.history.pop(),this.hasShallowEdits=!1,document.querySelector(this.selector).replaceWith(this.history[this.history.length-1].cloneNode(!0)),this.hydrate()),this.history.length||this.record(),this},this.redo=function(){return this.undone.length&&(this.history.push(this.undone[this.undone.length-1].cloneNode(!0)),this.undone.pop(),document.querySelector(this.selector).replaceWith(this.history[this.history.length-1].cloneNode(!0)),this.hydrate()),this},this.record=function(){return this.history.push(document.querySelector(this.selector).cloneNode(!0)),this.history.length>10&&this.history.shift(),this.undone=[],this},this.reset=function(){return this.history=[],this},this.length=function(){return this.history.length-1},this},void 0===window.Mura.editHistoryListener&&(window.editHistoryListener=function(t){window.Mura.editing&&((t.ctrlKey||t.metaKey)&&t.shiftKey&&"z"===t.key?Mura.editHistory.redo():(t.ctrlKey||t.metaKey)&&"z"===t.key&&Mura.editHistory.undo())}),document.removeEventListener("keydown",window.editHistoryListener),document.addEventListener("keydown",window.editHistoryListener)},5:function(t,e,a){
/*! mobile-drag-drop 2.3.0-rc.1 | Copyright (c) 2019 Tim Ruffles | MIT License */
!function(t){"use strict";var e="dnd-poly-",a=["none","copy","copyLink","copyMove","link","linkMove","move","all"],r=["none","copy","move","link"],o=function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("test",null,e)}catch(t){}return t}();function n(t){return t&&t.tagName}function i(t,e,a){void 0===a&&(a=!0),document.addEventListener(t,e,!!o&&{passive:a})}function s(t,e){document.removeEventListener(t,e)}function d(t,e,a,r){void 0===r&&(r=!1);var n=o?{passive:!0,capture:r}:r;return t.addEventListener(e,a,n),{off:function(){t.removeEventListener(e,a,n)}}}function c(t){return 0===t.length?0:t.reduce((function(t,e){return e+t}),0)/t.length}function l(t,e){for(var a=0;a<t.changedTouches.length;a++)if(t.changedTouches[a].identifier===e)return!0;return!1}function u(t,e,a){for(var r=[],o=[],n=0;n<e.touches.length;n++){var i=e.touches[n];r.push(i[t+"X"]),o.push(i[t+"Y"])}a.x=c(r),a.y=c(o)}var h=["","-webkit-"];function f(t,e,a,r,o){void 0===o&&(o=!0);var n=e.x,i=e.y;r&&(n+=r.x,i+=r.y),o&&(n-=parseInt(t.offsetWidth,10)/2,i-=parseInt(t.offsetHeight,10)/2);for(var s="translate3d("+n+"px,"+i+"px, 0)",d=0;d<h.length;d++){var c=h[d]+"transform";t.style[c]=s+" "+a[d]}}var g=function(){function t(t,e){this.t=t,this.i=e,this.s=r[0]}return Object.defineProperty(t.prototype,"dropEffect",{get:function(){return this.s},set:function(t){0!==this.t.mode&&a.indexOf(t)>-1&&(this.s=t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"types",{get:function(){if(0!==this.t.mode)return Object.freeze(this.t.types)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"effectAllowed",{get:function(){return this.t.effectAllowed},set:function(t){2===this.t.mode&&a.indexOf(t)>-1&&(this.t.effectAllowed=t)},enumerable:!0,configurable:!0}),t.prototype.setData=function(t,e){if(2===this.t.mode){if(t.indexOf(" ")>-1)throw new Error("illegal arg: type contains space");this.t.data[t]=e,-1===this.t.types.indexOf(t)&&this.t.types.push(t)}},t.prototype.getData=function(t){if(1===this.t.mode||2===this.t.mode)return this.t.data[t]||""},t.prototype.clearData=function(t){if(2===this.t.mode){if(t&&this.t.data[t]){delete this.t.data[t];var e=this.t.types.indexOf(t);return void(e>-1&&this.t.types.splice(e,1))}this.t.data={},this.t.types=[]}},t.prototype.setDragImage=function(t,e,a){2===this.t.mode&&this.i(t,e,a)},t}();function p(t,e){return t?t===a[0]?r[0]:0===t.indexOf(a[1])||t===a[7]?r[1]:0===t.indexOf(a[4])?r[3]:t===a[6]?r[2]:r[1]:3===e.nodeType&&"A"===e.tagName?r[3]:r[1]}function m(t,e,a,r,o,n,i){void 0===n&&(n=!0),void 0===i&&(i=null);var s=function(t,e,a,r,o,n,i){void 0===i&&(i=null);var s=e.changedTouches[0],d=new Event(a,{bubbles:!0,cancelable:r});d.dataTransfer=n,d.relatedTarget=i,d.screenX=s.screenX,d.screenY=s.screenY,d.clientX=s.clientX,d.clientY=s.clientY,d.pageX=s.pageX,d.pageY=s.pageY;var c=t.getBoundingClientRect();return d.offsetX=d.clientX-c.left,d.offsetY=d.clientY-c.top,d}(e,a,t,n,document.defaultView,o,i),d=!e.dispatchEvent(s);return r.mode=0,d}function v(t,e){if(!t||t===a[7])return e;if(e===r[1]){if(0===t.indexOf(r[1]))return r[1]}else if(e===r[3]){if(0===t.indexOf(r[3])||t.indexOf("Link")>-1)return r[3]}else if(e===r[2]&&(0===t.indexOf(r[2])||t.indexOf("Move")>-1))return r[2];return r[0]}var b,y=function(){function t(t,e,a,r){this.h=t,this.o=e,this.u=a,this.l=r,this.v=0,this.p=null,this.g=null,this.m=t,this.I=t.changedTouches[0],this.j=this.C.bind(this),this.S=this.k.bind(this),i("touchmove",this.j,!1),i("touchend",this.S,!1),i("touchcancel",this.S,!1)}return t.prototype.A=function(){var t=this;this.v=1,this.O=r[0],this.D={data:{},effectAllowed:void 0,mode:3,types:[]},this.M={x:null,y:null},this.F={x:null,y:null};var e=this.u;if(this.N=new g(this.D,(function(a,r,o){e=a,"number"!=typeof r&&"number"!=typeof o||(t.P={x:r||0,y:o||0})})),this.D.mode=2,this.N.dropEffect=r[0],m("dragstart",this.u,this.m,this.D,this.N))return this.v=3,this.T(),!1;u("page",this.m,this.F);var a,o=this.o.dragImageSetup(e);if(this.L=(a=o,h.map((function(t){var e=a.style[t+"transform"];return e&&"none"!==e?e.replace(/translate\(\D*\d+[^,]*,\D*\d+[^,]*\)\s*/g,""):""}))),o.style.position="absolute",o.style.left="0px",o.style.top="0px",o.style.zIndex="999999",o.classList.add("dnd-poly-drag-image"),o.classList.add("dnd-poly-icon"),this._=o,!this.P)if(this.o.dragImageOffset)this.P={x:this.o.dragImageOffset.x,y:this.o.dragImageOffset.y};else if(this.o.dragImageCenterOnTouch){var n=getComputedStyle(e);this.P={x:0-parseInt(n.marginLeft,10),y:0-parseInt(n.marginTop,10)}}else{var i=e.getBoundingClientRect();n=getComputedStyle(e),this.P={x:i.left-this.I.clientX-parseInt(n.marginLeft,10)+i.width/2,y:i.top-this.I.clientY-parseInt(n.marginTop,10)+i.height/2}}return f(this._,this.F,this.L,this.P,this.o.dragImageCenterOnTouch),document.body.appendChild(this._),this.V=window.setInterval((function(){t.X||(t.X=!0,t.Y(),t.X=!1)}),this.o.iterationInterval),!0},t.prototype.T=function(){this.V&&(clearInterval(this.V),this.V=null),s("touchmove",this.j),s("touchend",this.S),s("touchcancel",this.S),this._&&(this._.parentNode.removeChild(this._),this._=null),this.l(this.o,this.m,this.v)},t.prototype.C=function(t){var e=this;if(!1!==l(t,this.I.identifier)){if(this.m=t,0===this.v){var a=void 0;if(this.o.dragStartConditionOverride)try{a=this.o.dragStartConditionOverride(t)}catch(t){a=!1}else a=1===t.touches.length;return a?void(!0===this.A()&&(this.h.preventDefault(),t.preventDefault())):void this.T()}if(t.preventDefault(),u("client",t,this.M),u("page",t,this.F),this.o.dragImageTranslateOverride)try{var r=!1;if(this.o.dragImageTranslateOverride(t,{x:this.M.x,y:this.M.y},this.p,(function(t,a){e._&&(r=!0,e.M.x+=t,e.M.y+=a,e.F.x+=t,e.F.y+=a,f(e._,e.F,e.L,e.P,e.o.dragImageCenterOnTouch))})),r)return}catch(t){}f(this._,this.F,this.L,this.P,this.o.dragImageCenterOnTouch)}},t.prototype.k=function(t){if(!1!==l(t,this.I.identifier)){if(this.o.dragImageTranslateOverride)try{this.o.dragImageTranslateOverride(void 0,void 0,void 0,(function(){}))}catch(t){}0!==this.v?(t.preventDefault(),this.v="touchcancel"===t.type?3:2):this.T()}},t.prototype.Y=function(){var t=this,a=this.O;this.D.mode=3,this.N.dropEffect=r[0];var o=m("drag",this.u,this.m,this.D,this.N);if(o&&(this.O=r[0]),o||2===this.v||3===this.v)return this.q(this.v)?void function(t,e,a,r){var o=getComputedStyle(t);if("hidden"!==o.visibility&&"none"!==o.display){e.classList.add("dnd-poly-snapback");var n=getComputedStyle(e),i=parseFloat(n.transitionDuration);if(isNaN(i)||0===i)r();else{var s=t.getBoundingClientRect(),d={x:s.left,y:s.top};d.x+=document.body.scrollLeft||document.documentElement.scrollLeft,d.y+=document.body.scrollTop||document.documentElement.scrollTop,d.x-=parseInt(o.marginLeft,10),d.y-=parseInt(o.marginTop,10);var c=parseFloat(n.transitionDelay),l=Math.round(1e3*(i+c));f(e,d,a,void 0,!1),setTimeout(r,l)}}else r()}(this.u,this._,this.L,(function(){t.B()})):void this.B();var i=this.o.elementFromPoint(this.M.x,this.M.y),s=this.g;i!==this.p&&i!==this.g&&(this.p=i,null!==this.g&&(this.D.mode=3,this.N.dropEffect=r[0],m("dragexit",this.g,this.m,this.D,this.N,!1)),null===this.p?this.g=this.p:(this.D.mode=3,this.N.dropEffect=p(this.D.effectAllowed,this.u),m("dragenter",this.p,this.m,this.D,this.N)?(this.g=this.p,this.O=v(this.N.effectAllowed,this.N.dropEffect)):this.p!==document.body&&(this.g=document.body))),s!==this.g&&n(s)&&(this.D.mode=3,this.N.dropEffect=r[0],m("dragleave",s,this.m,this.D,this.N,!1,this.g)),n(this.g)&&(this.D.mode=3,this.N.dropEffect=p(this.D.effectAllowed,this.u),!1===m("dragover",this.g,this.m,this.D,this.N)?this.O=r[0]:this.O=v(this.N.effectAllowed,this.N.dropEffect)),a!==this.O&&this._.classList.remove(e+a);var d=e+this.O;this._.classList.add(d)},t.prototype.q=function(t){var e=this.O===r[0]||null===this.g||3===t;return e?n(this.g)&&(this.D.mode=3,this.N.dropEffect=r[0],m("dragleave",this.g,this.m,this.D,this.N,!1)):n(this.g)&&(this.D.mode=1,this.N.dropEffect=this.O,!0===m("drop",this.g,this.m,this.D,this.N)?this.O=this.N.dropEffect:this.O=r[0]),e},t.prototype.B=function(){this.D.mode=3,this.N.dropEffect=this.O,m("dragend",this.u,this.m,this.D,this.N,!1),this.v=2,this.T()},t}(),j={iterationInterval:150,tryFindDraggableTarget:function(t){var e=t.target;do{if(!1!==e.draggable){if(!0===e.draggable)return e;if(e.getAttribute&&"true"===e.getAttribute("draggable"))return e}}while((e=e.parentNode)&&e!==document.body)},dragImageSetup:function(t){var e=t.cloneNode(!0);return function t(e,a){if(1===e.nodeType){for(var r=getComputedStyle(e),o=0;o<r.length;o++){var n=r[o];a.style.setProperty(n,r.getPropertyValue(n),r.getPropertyPriority(n))}if(a.style.pointerEvents="none",a.removeAttribute("id"),a.removeAttribute("class"),a.removeAttribute("draggable"),"CANVAS"===a.nodeName){var i=e,s=a,d=i.getContext("2d").getImageData(0,0,i.width,i.height);s.getContext("2d").putImageData(d,0,0)}}if(e.hasChildNodes())for(o=0;o<e.childNodes.length;o++)t(e.childNodes[o],a.childNodes[o])}(t,e),e},elementFromPoint:function(t,e){return document.elementFromPoint(t,e)}};function M(t){if(!b){var e=j.tryFindDraggableTarget(t);if(e)try{b=new y(t,j,e,C)}catch(e){throw C(j,t,3),e}}}function w(t){var e=t.target,a=function(t){o.off(),n.off(),i.off(),s.off(),e&&e.dispatchEvent(new CustomEvent("dnd-poly-dragstart-cancel",{bubbles:!0,cancelable:!0})),clearTimeout(r)};e&&e.dispatchEvent(new CustomEvent("dnd-poly-dragstart-pending",{bubbles:!0,cancelable:!0}));var r=window.setTimeout((function(){o.off(),n.off(),i.off(),s.off(),M(t)}),j.holdToDrag),o=d(e,"touchend",a),n=d(e,"touchcancel",a),i=d(e,"touchmove",a),s=d(window,"scroll",a,!0)}function C(t,e,a){if(0===a&&t.defaultActionOverride)try{t.defaultActionOverride(e),e.defaultPrevented}catch(t){}b=null}t.polyfill=function(t){if(t&&Object.keys(t).forEach((function(e){j[e]=t[e]})),!j.forceApply){var e=(a={dragEvents:"ondragstart"in document.documentElement,draggable:"draggable"in document.documentElement,userAgentSupportingNativeDnD:void 0},r=!!window.chrome||/chrome/i.test(navigator.userAgent),a.userAgentSupportingNativeDnD=!(/iPad|iPhone|iPod|Android/.test(navigator.userAgent)||r&&"ontouchstart"in document.documentElement),a);if(e.userAgentSupportingNativeDnD&&e.draggable&&e.dragEvents)return!1}var a,r;return j.holdToDrag?i("touchstart",w,!1):i("touchstart",M,!1),!0},Object.defineProperty(t,"__esModule",{value:!0})}(e)},6:function(t,e,a){!function(t){"use strict";function e(t){return t===document.body||t===document.documentElement}function a(t,a){var r;if(e(t))r=0===a?t.clientLeft:t.clientTop;else{var o=t.getBoundingClientRect();r=0===a?o.left:o.top}return r}function r(t,a){return e(t)?0===a?window.innerWidth:window.innerHeight:0===a?t.clientWidth:t.clientHeight}function o(t,a,r){var o=0===a?"scrollLeft":"scrollTop",n=e(t);if(2===arguments.length)return n?document.body[o]||document.documentElement[o]:t[o];n?(document.documentElement[o]+=r,document.body[o]+=r):t[o]+=r}function n(t){var e=getComputedStyle(t);return t.scrollHeight>t.clientHeight&&("scroll"===e.overflowY||"auto"===e.overflowY)||t.scrollWidth>t.clientWidth&&("scroll"===e.overflowX||"auto"===e.overflowX)}function i(t,e,a){return t<a?-1:e-t<a?1:0}function s(t,e,a,r){return-1===t?Math.abs(e-r):1===t?Math.abs(a-e-r):0}function d(t,e,a){var r=0===t?a.scrollX:a.scrollY;return 1===e?r>=(0===t?a.scrollWidth-a.width:a.scrollHeight-a.height):-1!==e||r<=0}var c,l,u,h,f,g=75,p=function(t,e){var a=t/e;return a*a*a*e},m={horizontal:0,vertical:0},v={x:0,y:0};function b(){c||(c=window.requestAnimationFrame(y))}function y(){var t=0,a=0,r=e(h);0!==m.horizontal&&(t=Math.round(p(v.x,g)*m.horizontal),o(h,0,t)),0!==m.vertical&&(a=Math.round(p(v.y,g)*m.vertical),o(h,1,a)),r?f(t,a):f(0,0),c=null,j(l,h,g,m,v)&&b()}function j(t,e,n,c,l){if(!t||!e)return!1;var u={x:a(e,0),y:a(e,1),width:r(e,0),height:r(e,1),scrollX:o(e,0),scrollY:o(e,1),scrollWidth:e.scrollWidth,scrollHeight:e.scrollHeight},h={x:t.x-u.x,y:t.y-u.y};return c.horizontal=i(h.x,u.width,n),c.vertical=i(h.y,u.height,n),c.horizontal&&d(0,c.horizontal,u)?c.horizontal=0:c.horizontal&&(l.x=s(c.horizontal,h.x,u.width,n)),c.vertical&&d(1,c.vertical,u)?c.vertical=0:c.vertical&&(l.y=s(c.vertical,h.y,u.height,n)),!(!c.horizontal&&!c.vertical)}var M=function(t,e,a,r){l=e,f=r,u!==a&&(h=function(t){do{if(!t)return;if(n(t))return t;if(t===document.documentElement)return null}while(t=t.parentNode);return null}(u=a)),j(l,h,g,m,v)?b():c&&(window.cancelAnimationFrame(c),c=null)};t.scrollBehaviourDragImageTranslateOverride=M,Object.defineProperty(t,"__esModule",{value:!0})}(e)}});